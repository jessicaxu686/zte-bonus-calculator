<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ZTE-奖金最优分配计税计算器(海外MKT)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" rel="stylesheet">
    <style>
        .highlight {
            font-weight: bold;
            color: #e53935;
        }
        .critical-point {
            background-color: #ffebee;
            padding: 2px 5px;
            border-radius: 3px;
            font-family: monospace;
        }
        .tax-table {
            width: 100%;
            border-collapse: collapse;
            margin: 1rem 0;
        }
        .tax-table th, .tax-table td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: left;
        }
        .tax-table th {
            background-color: #f8f9fa;
            font-weight: 600;
            color: #2d3748;
        }
        .tax-table tr:nth-child(even) {
            background-color: #fafafa;
        }
        /* 新增样式：确保输入项容器高度一致，实现对齐 */
        .form-item {
            display: flex;
            flex-direction: column;
            height: 100%;
        }
        .input-container {
            margin-top: auto; /* 推到容器底部，确保输入框对齐 */
        }
    </style>
</head>
<body class="bg-gray-100 min-h-screen flex flex-col items-center justify-center p-4">
    <div class="bg-white p-6 md:p-8 rounded-lg shadow-md w-full max-w-4xl">
        <div class="flex items-center justify-center mb-6">
            <i class="fas fa-calculator text-blue-500 text-3xl mr-3"></i>
            <h1 class="text-2xl font-bold text-center text-gray-800">ZTE-一次性奖金最优提取测算计算器（海外MKT）</h1>
        </div>
        
<!-- 使用说明 -->
<div class="bg-blue-50 border-l-4 border-blue-500 p-4 mb-6 rounded-lg shadow-sm">
    <h2 class="text-lg font-bold text-blue-700 mb-3 flex items-center">
        <i class="fas fa-info-circle mr-2 text-blue-600"></i>使用说明
    </h2>
    <ul class="list-disc pl-5 space-y-2 text-sm text-gray-700">
        <li class="flex items-start">
            <i class="fas fa-shield-alt mt-1 mr-2 text-blue-400 text-xs"></i>
            <span>此工具属于纯前端本地计算工具，所有数据仅在您的设备上处理，不存在数据传输和存储行为</span>
        </li>
        <li class="flex items-start">
            <i class="fas fa-calendar-check mt-1 mr-2 text-blue-400 text-xs"></i>
            <span>全年一次性奖金单独计税政策延续至<span class="highlight font-medium">2027年12月31日</span>；公司当年全年一次性奖金提取方式使用截止日期：<span class="highlight font-medium">当年12月2日</span></span>
        </li>
        <li class="flex items-start">
            <i class="fas fa-lightbulb mt-1 mr-2 text-blue-400 text-xs"></i>
            <span>此工具根据需要提取的奖金总数进行一次性提取的建议，可以根据综合所得税率表临界值决定是否全部提取</span>
        </li>
        <li class="pt-2 mt-2 border-t border-blue-100 flex justify-between">
            <span class="text-xs text-gray-500 flex items-center">
                <i class="fas fa-code-branch mr-1"></i>
                <span>版本号：<span class="highlight">V2.0</span></span>
            </span>
            <span class="text-xs text-gray-500 flex items-center">
                <i class="far fa-calendar-alt mr-1"></i>
                <span>更新日期：<span class="highlight">2025年12月10日</span></span>
            </span>
            <span class="text-xs text-gray-500 flex items-center">
                <i class="fas fa-user-tie mr-1"></i>
                <span>联系人：<span class="highlight">徐晓芳 00049686</span></span>
            </span>
        </li>
    </ul>
</div>

        <!-- 输入表单 -->
        <div class="space-y-6">
            <!-- 第一组：全年工资津贴预估 和 已经提取奖金 并排 -->
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div class="form-item">
                    <label for="salaryAllowance" class="block text-sm font-medium text-gray-700">
                        <i class="fas fa-money-bill-wave mr-1 text-green-500"></i>全年工资津贴预估（元）
                    </label>
                    <p class="text-xs text-gray-500 mb-2">包括全年工资、津贴，额外考虑调薪变化</p>
                    <div class="input-container">
                        <input type="number" id="salaryAllowance" placeholder="例：220000" 
                            class="block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm">
                    </div>
                </div>
                <div class="form-item">
                    <label for="extractedBonus" class="block text-sm font-medium text-gray-700">
                        <i class="fas fa-coins mr-1 text-yellow-500"></i>已经提取奖金（元）
                    </label>
                    <p class="text-xs text-gray-500 mb-2">本年度已提取的奖金金额</p>
                    <div class="input-container">
                        <input type="number" id="extractedBonus" placeholder="例：20000" value="0"
                            class="block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm">
                    </div>
                </div>
            </div>

            <!-- 待提取奖金总额 -->
            <div>
                <label for="totalBonus" class="block text-sm font-medium text-gray-700">
                    <i class="fas fa-gift mr-1 text-red-500"></i>待提取奖金总额（元）
                </label>
                <input type="number" id="totalBonus" placeholder="例：80000" 
                    class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm">
            </div>

            <!-- 全年总收入预估 -->
            <div>
                <label for="totalIncome" class="block text-sm font-medium text-gray-700">
                    <i class="fas fa-money-bill-alt mr-1 text-indigo-500"></i>全年总收入预估（元）
                </label>
                <p class="text-xs text-gray-500 mb-1">自动计算，等于全年工资津贴预估加上已提取奖金和待提取奖金总额</p>
                <input type="number" id="totalIncome" placeholder="自动计算" readonly
                    class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm sm:text-sm bg-gray-100">
            </div>

            <!-- 第二组：全年基本减除费用 和 专项扣除 并排 -->
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div class="form-item">
                    <label for="basicDeduction" class="block text-sm font-medium text-gray-700">
                        <i class="fas fa-home mr-1 text-purple-500"></i>全年基本减除费用（元）
                    </label>
                    <p class="text-xs text-gray-500 mb-2">固定值无需填写</p>
                    <div class="input-container">
                        <input type="number" id="basicDeduction" value="60000" readonly 
                            class="block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm sm:text-sm bg-gray-100">
                    </div>
                </div>
                <div class="form-item">
                    <label for="specialDeduction" class="block text-sm font-medium text-gray-700">
                        <i class="fas fa-shield-alt mr-1 text-yellow-500"></i>专项扣除（元）
                    </label>
                    <p class="text-xs text-gray-500 mb-2">全年累计社保公积金扣除预估（月度数据参考工资条中代扣社会保险+代扣住房公积金或者个税APP中收入纳税明细），计算需考虑各地上限！</p>
                    <div class="input-container">
                        <input type="number" id="specialDeduction" placeholder="例：40000" value="0" 
                            class="block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm">
                    </div>
                </div>
            </div>

            <!-- 第三组：专项附加扣除 和 其他扣除项 并排 -->
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div class="form-item">
                    <label for="additionalDeduction" class="block text-sm font-medium text-gray-700">
                        <i class="fas fa-child mr-1 text-teal-500"></i>专项附加扣除（元）
                    </label>
                    <p class="text-xs text-gray-500 mb-2">个人所得税APP填报为准，包括子女教育、继续教育、大病医疗、住房贷款利息、住房租金、赡养老人</p>
                    <div class="input-container">
                        <input type="number" id="additionalDeduction" placeholder="例：24000" value="0" 
                            class="block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm">
                    </div>
                </div>
                <div class="form-item">
                    <label for="otherDeduction" class="block text-sm font-medium text-gray-700">
                        <i class="fas fa-hand-holding-heart mr-1 text-pink-500"></i>其他扣除项（元）
                    </label>
                    <p class="text-xs text-gray-500 mb-2">捐款额+抵税项+个人养老金</p>
                    <div class="input-container">
                        <input type="number" id="otherDeduction" placeholder="例：2000" value="0" 
                            class="block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm">
                    </div>
                </div>
            </div>
        </div>

        <button onclick="calculateOptimalSplit()" 
            class="w-full mt-6 bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-4 rounded-lg focus:outline-none focus:shadow-outline transition duration-150 ease-in-out">
            <i class="fas fa-calculator mr-2"></i>计算最优分配方案
        </button>

        <!-- 计算结果 -->
        <div id="result" class="mt-6 bg-gray-50 p-6 rounded-md shadow-sm hidden">
            <h2 class="text-xl font-bold text-gray-800 mb-4 flex items-center">
                <i class="fas fa-chart-pie mr-2 text-blue-500"></i>最优分配方案
            </h2>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
                <div class="bg-white p-4 rounded-md shadow-sm border border-blue-100">
                    <h3 class="text-md font-bold text-gray-700 mb-2 flex items-center">
                        <i class="fas fa-money-check-alt mr-2 text-green-500"></i>推荐一次性提取奖金
                    </h3>
                    <p class="mb-1">金额：<span id="optimalBonus" class="highlight text-xl">0</span> 元</p>
                    <p class="mb-1">适用税率：<span id="bonusTaxRate" class="text-orange-500 font-medium">0%</span></p>
                    <p class="mb-1">速算扣除数：<span id="bonusTaxDeduction" class="text-orange-500 font-medium">0</span> 元</p>
                    <p>税额：<span id="bonusTax" class="text-red-500">0</span> 元</p>
                </div>
                <div class="bg-white p-4 rounded-md shadow-sm border border-blue-100">
                    <h3 class="text-md font-bold text-gray-700 mb-2 flex items-center">
                        <i class="fas fa-hand-holding-usd mr-2 text-purple-500"></i>推荐随工资提取奖金
                    </h3>
                    <p class="mb-1">推荐随工资提取奖金：<span id="optimalSalaryBonus" class="highlight text-xl">0</span> 元</p>
                    <p class="mb-1">工资部分应纳税所得额：<span id="salaryTaxableIncome" class="text-orange-500 font-medium">0</span> 元</p>
                    <p class="mb-1">合并后适用税率：<span id="combinedTaxRate" class="text-orange-500 font-medium">0%</span></p>
                    <p>税额：<span id="salaryBonusTax" class="text-red-500">0</span> 元</p>
                </div>
            </div>
            <table class="w-full mt-4 border-collapse">
                <thead>
                    <tr class="bg-gray-100">
                        <th class="px-4 py-2 border text-left">项目</th>
                        <th class="px-4 py-2 border text-left">金额（元）</th>
                        <th class="px-4 py-2 border text-left">备注</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td class="px-4 py-2 border">工资部分应纳税所得额</td>
                        <td class="px-4 py-2 border" id="salaryTaxableIncomeTable">0.00</td>
                        <td class="px-4 py-2 border">不含奖金部分</td>
                    </tr>
                    <tr class="bg-gray-50">
                        <td class="px-4 py-2 border">合并后全年应纳税所得额合计</td>
                        <td class="px-4 py-2 border font-medium" id="totalTaxableIncome">0.00</td>
                        <td class="px-4 py-2 border">工资+随工资提取奖金</td>
                    </tr>
                    <tr>
                        <td class="px-4 py-2 border">工资部分基础税额</td>
                        <td class="px-4 py-2 border" id="salaryTax">0.00</td>
                        <td class="px-4 py-2 border">不含奖金部分</td>
                    </tr>
                    <tr class="bg-gray-50">
                        <td class="px-4 py-2 border font-semibold">总税额（最优方案）</td>
                        <td class="px-4 py-2 border font-semibold" id="totalTax">0.00</td>
                        <td class="px-4 py-2 border">一次性奖金税+合并部分税</td>
                    </tr>
                    <tr>
                        <td class="px-4 py-2 border">比全部单独计税节省</td>
                        <td class="px-4 py-2 border text-green-